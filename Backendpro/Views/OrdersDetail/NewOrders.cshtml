@model IEnumerable<Backendpro.Models.OrderVM>
@{
    ViewBag.Title = "NewOrders";
    if (ViewBag.logintype == "Admin")
    {
        Layout = "~/Views/Shared/_Layout.cshtml";
    }
    if (ViewBag.logintype == "Vendor")
    {
        Layout = "~/Views/Shared/_LayoutVendor.cshtml";
    }

    WebGrid webGrid = new WebGrid(Model);
}

<h4>New Orders</h4>

<style type="text/css">
    body {
        font-family: Arial;
        font-size: 10pt;
    }

    .Grid {
        border: 1px solid #ccc;
        border-collapse: collapse;
    }

        .Grid th {
            background-color: #F7F7F7;
            font-weight: bold;
        }

        .Grid th, .Grid td {
            padding: 5px;
            border: 1px solid #ccc;
        }

        .Grid, .Grid table td {
            border: 0px solid #ccc;
        }

            .Grid th a, .Grid th a:visited {
                color: #333;
            }
</style>





@using (Html.BeginForm("FilterdateNew", "OrdersDetail", FormMethod.Get))
{
    <div class="row">
        <div class="col-md-3">

        </div>
        <div class="col-md-3">
            <input type="datetime" name="startdate" placeholder="CHOOSE START DATE" value="@ViewBag.Start" class="form-control" />
        </div>
        <div class="col-md-3">
            <input type="datetime" name="enddate" placeholder="CHOOSE END DATE" value="@ViewBag.End" class="form-control" />
        </div>
        <div class="col-md-3">
            <input type="submit" class="btn btn-primary" value="Search" />
        </div>
    </div>
}



@webGrid.GetHtml(
    tableStyle: "table table-bordered table-striped mr",
    rowStyle: "gridrow",
    alternatingRowStyle: "gridalt",
        htmlAttributes: new { @id = "WebGrid", @class = "Grid" },
        columns: webGrid.Columns(
                 webGrid.Column("Customername", "Customer Name"),
                 webGrid.Column("CustomerMobileno", "Customer Mobile"),
                 webGrid.Column(header: "Order Text", format: @<text>@{


                                    if (item.Isphoto == false)
                                    {
                            @Html.Raw("<text><input type='button' value='View Order Text' onclick='seeText(" + item.Orderid + ")'  /></text>");
                                    }
                                    else
                                    {
                            @Html.Label("No Text");
                                    }

                }</text>),
webGrid.Column(header: "Order Snapshot", format: @<text>@{


                                if (item.Isphoto == true)
                                {
                        @Html.Raw("<text><input type='button' value='View Order Snapshot' onclick='seeImage(" + item.Orderid + ")'  /></text>");
                                }
                                else
                                {
                        @Html.Label("No Image");
                                }

}</text>),

webGrid.Column("Location", "Location"),
webGrid.Column(columnName: "", format: (item) => Html.ActionLink("Accept", "AcceptOrder", "OrdersDetail",
new
{
Orderid = item.Orderid
}, null)),
webGrid.Column(columnName: "", format: (item) => Html.ActionLink("Reject", "RejectOrder", "OrdersDetail",
new { Orderid = item.Orderid }, null))

))




<div id="openpopup" style="display:none;"></div>
<div id="openpopuptext" style="display:none;"></div>

@section scripts{

    <script type="text/javascript">
        $(document).ready(function () {
            $('input[type=datetime]').datepicker({
                dateFormat: "dd/M/yy",
                changeMonth: true,
                changeYear: true
            });

        });


        function seeImage(orderid) {
            var x = $('#openpopup');
            x.load("/OrdersDetail/SeeOrderImage?orderid=" + orderid, function () {
                x.dialog({
                    show: {
                        effect: "blind",
                        duration: 1000
                    },
                    hide: {
                        effect: "explode",
                        duration: 1000
                    },
                    modal: true,
                    width: 550,
                    height: 550,
                    title: "Order Snapshot",
                    resizable: false
                });
            });
        }

        function seeText(orderid) {
            var x = $('#openpopuptext');
            x.load("/OrdersDetail/SeeOrderDetails?orderid=" + orderid, function () {
                x.dialog({
                    show: {
                        effect: "blind",
                        duration: 1000
                    },
                    hide: {
                        effect: "explode",
                        duration: 1000
                    },
                    modal: true,
                    width: 550,
                    height: 550,
                    title: "Order Text",
                    resizable: false
                });
            });
        }
    </script>
}